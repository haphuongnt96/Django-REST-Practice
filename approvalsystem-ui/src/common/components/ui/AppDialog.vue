<script lang="ts">
import { Vue, Component, Prop } from 'vue-property-decorator'

//*===ðŸ”·===ðŸ”·===ðŸ”·===ðŸ”·===ðŸ”·===ðŸ”·===ðŸ”·===ðŸ”·===ðŸ”·===ðŸ”·===ðŸ”·===ðŸ”·Primary

@Component
export default class Dialog extends Vue {
  //*===ðŸ‘œ===ðŸ‘œ===ðŸ‘œ===ðŸ‘œ===ðŸ‘œ===ðŸ‘œ===ðŸ‘œ===ðŸ‘œ===ðŸ‘œ===ðŸ‘œ===ðŸ‘œ===ðŸ‘œProps

  @Prop(Boolean) value: boolean // * v-model at parent level

  //*===ðŸŽ===ðŸŽ===ðŸŽ===ðŸŽ===ðŸŽ===ðŸŽ===ðŸŽ===ðŸŽ===ðŸŽ===ðŸŽ===ðŸŽ===ðŸŽData

  isActive = false
  initialDelay = 0

  //*===ðŸ===ðŸ===ðŸ===ðŸ===ðŸ===ðŸ===ðŸ===ðŸ===ðŸ===ðŸ===ðŸ===ðŸComputed

  // * GetSet, Handling visibility of the dialog
  get isOpen() {
    return this.value && this.isActive
  }

  // * GetSet, delay-close dialog at parent level, to display closing animation
  set isOpen(value: boolean) {
    this.isActive = value

    setTimeout(() => {
      this.$emit('input', value)
    }, 300)
  }

  //*===ðŸ¦Œ===ðŸ¦Œ===ðŸ¦Œ===ðŸ¦Œ===ðŸ¦Œ===ðŸ¦Œ===ðŸ¦Œ===ðŸ¦Œ===ðŸ¦Œ===ðŸ¦Œ===ðŸ¦Œ===ðŸ¦ŒHooks

  mounted() {
    setTimeout(() => {
      this.isActive = true
    }, this.initialDelay)
  }
}
</script>
